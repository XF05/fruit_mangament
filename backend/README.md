## 后台Server

```js
$ npm i
$ node start
```

### 接口文档

#### 基础 URL:

- `http://127.0.0.1:6060`

#### 用户操作

##### 登录

- 请求方法:`post`

* 请求地址:`/user/login`

* 请求参数

  | 字段  | 说明   | 类型 H | 是否必填 | 备注 |
  | ----- | ------ | ------ | -------- | ---- |
  | uname | 用户名 | string | 是       | 无   |
  | upwd  | 密码   | string | 是       | 无   |
  |       |        |        |          |      |

* 返回参数:

  | 字段 | 说明              | 类型   | 备注                 |
  | :--- | :---------------- | :----- | :------------------- |
  | code | 200/201/0         | number | 无                   |
  | msg  | 登录成功/登录失败 | string | 分为管理员和普通用户 |
  | data | uid&role          | object | 登录失败为空         |

##### 登出

- 请求方法:`get`

- 请求地址:`/user/logout`

- 请求参数:无

- 返回参数:

  | 字段 | 说明     | 类型   | 备注 |
  | ---- | -------- | ------ | ---- |
  | code | 200      | number | 无   |
  | msg  | 退出成功 | string | 无   |

##### 修改密码

- 请求方法:`post`

- 请求地址:`/user/update/passwd`

- 请求参数:

  | 字段 | 说明        | 类型   | 是否必填 | 备注               |
  | ---- | ----------- | ------ | -------- | ------------------ |
  | uid  | 用户唯一 id | number | 是       | 区分用户类型及权限 |
  | upwd | 修改密码    | string | 是       | 无                 |

- 返回参数:

  | 字段 | 说明          | 类型   | 备注      |
  | ---- | ------------- | ------ | --------- |
  | code | 0/200/201/202 | number | 无        |
  | msg  | 提示          | string | 配合 code |

##### 用户注册

- 请求方法:`post`

- 请求地址:`/user/reg`

- 请求参数:

  | 字段       | 说明     | 类型   | 是否必填 | 备注                   |
  | ---------- | -------- | ------ | -------- | ---------------------- |
  | uname      | 用户名   | string | 是       | 无                     |
  | upwd       | 用户密码 | string | 是       | 无                     |
  | role       | 用户类型 | string | 是       | 无                     |
  | sex        | 性别     | number | 否       | 无                     |
  | age        | 年龄     | number | 否       | 无                     |
  | phone      | 手机号   | string | 否       | 无                     |
  | work_time  | 工龄     | number | 否       | 定长[3,1],如`11.1`,`2` |
  | work_begin | 入职时间 | string | 否       | 如`2016-10-15`         |

#### 水果操作

##### 所有查询

- 请求方法:`get`

- 请求地址:`fruit/all`

- 请求参数:无

- 返回参数:

  | 字段 | 说明      | 类型   | 备注         |
  | ---- | --------- | ------ | ------------ |
  | code | 200/201/0 | number | 需要用户登录 |
  | msg  | 相关提示  | string | 无           |
  | data | 查询结果  | object | 无           |

##### 单个查询

- 请求方法:`get`

- 请求地址:`fruit/cell`

- 请求参数:

  | 参数 | 说明 | 类型   | 是否必填 | 备注 |
  | ---- | ---- | ------ | -------- | ---- |
  | fid  | 编号 | number | 是       | 无   |

- 返回参数:同`fruit/all`

##### 分页查询

- 请求方法:`get`

- 请求地址:`fruit/list`

- 请求参数:

  | 参数      | 说明     | 类型   | 是否必填 | 备注       |
  | --------- | -------- | ------ | -------- | ---------- |
  | pageNum   | 起始页   | number | 否       | 默认值为 1 |
  | pageCount | 每页数量 | number | 否       | 默认值为 6 |

- 返回参数:

  | 字段 | 说明 | 类型 | 备注 |
  | ---- | ---- | ---- | ---- |
  | code | 0/   |      |      |
  | msg  |      |      |      |
  | data |      |      |      |

##### 更新水果信息

- 请求方法:`post`

- 请求地址:`fruit/update`

- 请求参数:

  | 参数 | 说明 | 类型 | 是否必填 | 备注 |
  | ---- | ---- | ---- | -------- | ---- |
  |      |      |      |          |      |
  |      |      |      |          |      |
  |      |      |      |          |      |
  |      |      |      |          |      |
  |      |      |      |          |      |
  |      |      |      |          |      |
  |      |      |      |          |      |
  |      |      |      |          |      |
